<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>校验器测试</title>
</head>
<body>
  <script src="../dist/validator.js"></script>
  <script>
    window.onload = () => {
      const formData = {
        name: '姓名',
        age: 18,
        sex: 0,
        text: 101
      }
      const rules = [
        // 缺少 name
        // { field: 'text'},

        // 缺少 field
        // { name: '测试'},

        // 缺少 field
        // { field: '', name: '测试'},

        // 缺少 name
        // { field: 'text', name: ''},

        // text='' => 【测试】格式有误
        // { field: 'text', name: '测试'}

        // text='测试' => true "success"
        // { field: 'text', name: '测试'}

        // text='测试' => true "success"
        // { field: 'text', name: '测试',  rules: ''},

        // text='' => 【测试】格式有误
        // { field: 'text', name: '测试',  rules: ''},

        // text='5' => 【测试】格式有误
        // { field: 'text', name: '测试',  rules: 'isName'},

        // text='5' => true "success"
        // { field: 'text', name: '测试',  rules: 'isMoney'},

        // text='5' =>  当前rules值不存在于校验器规则中
        // { field: 'text', name: '测试',  rules: 'isMax'},

        // text='5' => true "success"
        // { field: 'text', name: '测试',  rules: {'>': 2}},

        // text='5' => 【测试】格式有误
        // { field: 'text', name: '测试',  rules: {'<': 2}},

        // text='5' => true "success"
        // { field: 'text', name: '测试',  rules: {'==': 5}},

        // text='5' => 【测试】格式有误
        // { field: 'text', name: '测试',  rules: {'===': 5}},

        // text='5' =>  当前rules值不存在于校验器规则中
        // { field: 'text', name: '测试',  rules: {'====': 5}},

        // text=5 =>  false "【测试】格式有误"
        // { field: 'text', name: '测试',  rules: ['isName',{'>': 2}]},

        // text=5 =>  false "flag true"
        // { field: 'text', name: '测试',  rules: ['isMoney',{'>': 2}, {'<': 100}]},

        // text='5' =>  false "【测试】格式有误"
        // { field: 'text', name: '测试',  rules: [{'==': 5}]},

        // text='' => need校验规则必须为数组
        // { field: 'text', name: '测试',  need: ''},

        // text='' => true "success"
        // { field: 'text', name: '测试',  need: []},

        // text='' => 缺少 field
        // { field: 'text', name: '测试',  need: [{field: ''}]},

        // text='' => need中的每一项必须存在 rules
        // { field: 'text', name: '测试',  need: [{field: 'name'}]},

        // text='' => true "success"
        // { field: 'text', name: '测试',  need: [{field: 'name', rules: ''}]},

        // text='', name='名字' => need必须是一个数组，且不能为空
        // { field: 'text', name: '测试',  need: []},

        // text='', name='名字' => 缺少 field
        // { field: 'text', name: '测试',  need: [{field: ''}]},

        // text='', name='名字' => 【测试】格式有误
        // { field: 'text', name: '测试',  need: [{field: 'name'}]},

        // text='', name='名字' => 【测试】格式有误
        // { field: 'text', name: '测试',  need: [{field: 'name', rules: ''}]},

        // text='', name='名字' => 【测试】格式有误
        // { field: 'text', name: '测试',  need: [{field: 'name', rules: 'isName'}]},

         // text='', name='名字' => 当前rules值不存在于校验器规则中
        //  { field: 'text', name: '测试',  need: [{field: 'name', rules: 'isMax'}]},

        // text='', name='名字' => true "success"
        // { field: 'text', name: '测试',  need: [{field: 'name', rules: 'isMoney'}]},

         // text='', name='123' => true "success"
        //  { field: 'text', name: '测试',  need: [{field: 'name', rules: 'isName'}]},

         // text='测试', name='姓名'' => true "success"
        //  { field: 'text', name: '测试',  need: [{field: 'name', rules: 'isName'}]},

        // text='', name=''' => true "success"
        // { field: 'text', name: '测试', rules: 'isMoney',  need: [{field: 'name', rules: 'isName'}]},

         // text='', name='姓名' => 【测试】格式有误
         // { field: 'text', name: '测试', rules: 'isMoney',  need: [{field: 'name', rules: 'isName'}]},
        
         // text='5', name='姓名' => true "success"
        //  { field: 'text', name: '测试', rules: 'isMoney',  need: [{field: 'name', rules: 'isName'}]},

         { field: 'text', name: '测试', rules: ['isMoney',{'>': 2}, {'<': 100}],  need: [{field: 'age', rules: [{'>': 2}, {'<': 100}]}], tip: '梅甜甜'}
      ]
      console.log(validator);
      const { res, msg } = validator.validate(formData, rules);
      console.log(res, msg);
    }
  </script>
</body>
</html>